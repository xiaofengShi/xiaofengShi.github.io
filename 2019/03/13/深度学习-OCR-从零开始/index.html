<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/panda_32px.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/panda_16px.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-mac-osx.min.css">
  <script src="/lib/pace/pace.min.js"></script>


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://xiaofengshi.com').hostname,
    root: '/',
    scheme: 'Pisces',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"mac"},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="本篇详细说明了OCR的应用，技术实现，当前相关进展等，不定时补充更新。 本篇博客最初想写成一本掘金小册，可是掘金的那边看了我的提纲说太难了，应该没什么受众，额……，那我就自己写一下记录下来，不会太讲究斟词酌句了，希望见谅。 本篇博客算是一篇针对OCR相关学习或者初步接触者的引导和入门，讲的不深，实际上针对每个模块，比如CTPN，CTC，Attention，Densenet这些我都有专门写过博客来讲">
<meta property="og:type" content="article">
<meta property="og:title" content="深度学习-OCR-从零开始">
<meta property="og:url" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/index.html">
<meta property="og:site_name" content="做一个有用的人">
<meta property="og:description" content="本篇详细说明了OCR的应用，技术实现，当前相关进展等，不定时补充更新。 本篇博客最初想写成一本掘金小册，可是掘金的那边看了我的提纲说太难了，应该没什么受众，额……，那我就自己写一下记录下来，不会太讲究斟词酌句了，希望见谅。 本篇博客算是一篇针对OCR相关学习或者初步接触者的引导和入门，讲的不深，实际上针对每个模块，比如CTPN，CTC，Attention，Densenet这些我都有专门写过博客来讲">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/text.png">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/ali_text.png">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/id_card.jpg">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/id_card_out.png">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/car_id.jpg">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/car_id_out.png">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/id_card.jpg">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/id_card_gray.png">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/id_card_binary.png">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/id_card_denoised.png">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/rotate_2d.png">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/move2d.jpeg">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/id_card_rotated.png">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/id_card_rotated2.png">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/id_card_horizonal.png">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/text_split.png">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/ReadingText.png">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/CTPN.png">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/RRPN.png">
<meta property="og:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/DMPNet.png">
<meta property="article:published_time" content="2019-03-13T08:03:05.000Z">
<meta property="article:modified_time" content="2020-08-22T14:04:21.000Z">
<meta property="article:author" content="ShiXiaofeng">
<meta property="article:tag" content="OCR">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/text.png">

<link rel="canonical" href="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>深度学习-OCR-从零开始 | 做一个有用的人</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">做一个有用的人</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <h1 class="site-subtitle" itemprop="description">LLM And Search</h1>
      
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-fw fa-calendar"></i>日程表</a>

  </li>
        <li class="menu-item menu-item-guestbook">

    <a href="/guestbook/" rel="section"><i class="fa fa-fw fa-commenting"></i>guestbook</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/xiaofengShi" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ShiXiaofeng">
      <meta itemprop="description" content="LLM,搜索,数据挖掘,深度学习相关技术记录分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="做一个有用的人">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          深度学习-OCR-从零开始
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-03-13 16:03:05" itemprop="dateCreated datePublished" datetime="2019-03-13T16:03:05+08:00">2019-03-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-22 22:04:21" itemprop="dateModified" datetime="2020-08-22T22:04:21+08:00">2020-08-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index">
                    <span itemprop="name">深度学习</span>
                  </a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/CV/" itemprop="url" rel="index">
                    <span itemprop="name">CV</span>
                  </a>
                </span>
            </span>

          
            <span id="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/" class="post-meta-item leancloud_visitors" data-flag-title="深度学习-OCR-从零开始" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>本篇详细说明了OCR的应用，技术实现，当前相关进展等，不定时补充更新。</p>
<p>本篇博客最初想写成一本掘金小册，可是掘金的那边看了我的提纲说太难了，应该没什么受众，额……，那我就自己写一下记录下来，不会太讲究斟词酌句了，希望见谅。</p>
<p>本篇博客算是一篇针对OCR相关学习或者初步接触者的引导和入门，讲的不深，实际上针对每个模块，比如<code>CTPN</code>，<code>CTC</code>，<code>Attention</code>，<code>Densenet</code>这些我都有专门写过博客来讲述过，感兴趣的可以翻翻我的博客文章。</p>
<p>更新记录：</p>
<p>2020.01.31: 自从19年4月份入职字节跳动之后一直忙于工作，很久没有更新个人博客了，今天看到各位的留言很是感动，为自己长久的拖延感到羞愧。由于武汉肺炎延迟开工，今天努力把以前写的提纲补充齐全，这一年来，相比于之前增加了更多的工业界算法思维，一个好的算法是在能够实现预定目的的同时，尽可能节省算力的，接下来也会把自己的一些感触和经验体现在博客里面。</p>
<span id="more"></span>

<h2 id="OCR任务详解及应用场景"><a href="#OCR任务详解及应用场景" class="headerlink" title="OCR任务详解及应用场景"></a>OCR任务详解及应用场景</h2><h3 id="什么叫OCR"><a href="#什么叫OCR" class="headerlink" title="什么叫OCR"></a>什么叫OCR</h3><p>按照维基百科的定义，(<strong>Optical Character Recognition,OCR</strong>)光学字符识别是指对文本资料的图像文件进行分析识别处理，获取文字及版面信息的过程。通俗来讲，<strong>OCR任务就是我们输入一张包含文本资料的图片，得到该图像中包含的文字和版面信息输出，图形中包含的文字很好理解，版面信息对应的是在输入的图片中文字所在的位置信息。</strong></p>
<p>下面通过一张简单的图像进行OCR任务的说明</p>
<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/text.png" class="" title="OCR待识别图片">

<p>通过OCR得到的返回结果</p>
<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/ali_text.png" class="" title="OCR返回结果">

<p>上图为使用阿里云提供的OCR服务得到的返回结果，可以看到，通过OCR识别技术，不仅得到了输入图像中的文字信息，并且包含输入图像的版面信息。</p>
<h3 id="OCR用于何处"><a href="#OCR用于何处" class="headerlink" title="OCR用于何处"></a>OCR用于何处</h3><p>目前OCR识别在身份证，驾驶证，营业执照，银行卡，车牌，名片，合同文本等具有规范版面格式的图像场景中已经达到了商用指标，并取得了广泛的应用；在学术界则在探索更广泛的应用，研究更先进高效的算法以适用于街景文字识别，手写体识别等场景中。</p>
<p>人的懒惰推动着技术的进步，之所以开发并使用OCR相关技术，就是为了帮助我们更快的进行信息提取。但是在提取图像信息的同时人们对信息提取的准确率是有着的要求的，任何一个算法都要抱着宁缺毋滥的原则，并且在OCR识别中对于小说等文学文档的信息提取准确率，显然和对身份证、驾驶证等识别结果的要求是不同的，这就代表着要开发不同的算法以适应不同的场景需求。</p>
<p>接下来使用阿里云提供的OCR服务：<a href="https://ai.aliyun.com/ocr/general?spm=5176.12188956.1280361.58.4ddb1a9eyHHIYB">https://ai.aliyun.com/ocr/general?spm=5176.12188956.1280361.58.4ddb1a9eyHHIYB</a></p>
<p>进行不同类型照片的测试</p>
<p>对于身份证照片</p>
<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/id_card.jpg" class="" title="身份证照片">

<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/id_card_out.png" class="" title="身份证识别结果">

<p>对于汽车车牌照片识别</p>
<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/car_id.jpg" class="" title="汽车牌照照片">

<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/car_id_out.png" class="" title="汽车牌照识别结果">

<p>如上的识别结果由阿里云OCR服务提供，并且目前已经得到了广泛的应用，可以看到对于具有标准格式的照片OCR识别结果非常准确。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>本章节结合实例对OCR的概念和应用场景进行了讲解，目前OCR技术已经在众多领域得到了广泛应用，相信大家一定好奇OCR识别具体是如何实现的，会在接下来的章节进行详细讲解</p>
<h3 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h3><p>请大家思考一个问题，对于OCR识别结果，如何确保其正确性的呢？</p>
<h2 id="中文OCR任务解决方案"><a href="#中文OCR任务解决方案" class="headerlink" title="中文OCR任务解决方案"></a>中文OCR任务解决方案</h2><p>本章节主要针对OCR识别具体的实现方案进行详细的阐述。</p>
<p>环境需求：</p>
<p>python&#x3D;&#x3D;3.6</p>
<p>opencv-python&#x3D;&#x3D;4.0</p>
<p>启动jupyter之后，首先导入依赖</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure>

<h3 id="OCR识别过程"><a href="#OCR识别过程" class="headerlink" title="OCR识别过程"></a>OCR识别过程</h3><ul>
<li><p>图片预处理</p>
<p>对于输入的图片，一般来源是手机拍摄，摄像头拍摄，打印机扫描等，这就意味着输入的图片具有多种格式和色彩特征和多种数据格式，在OCR识别时，要对输入的图片进行预处理，一般的预处理方式包括如下几种。</p>
<ul>
<li><p>图像读取</p>
<p>该步骤要读取图像为统一格式，输入的图片包含’jpg’、’png’、’jpeg’等格式，不同的图片格式意味着不同的数据格式，因此在读取图片的时候要转换成一个固定的格式，一般情况下，将所有转换的图像都转换成灰度图数据格式</p>
<p>以上一章节的身份证照片为例</p>
<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/id_card.jpg" class="" title="原始身份证图片">

<p>将读取的图像转化成灰度图</p>
<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/id_card_gray.png" class="" title="转换成灰度图">

<p>可以看到，通过转换成灰度图，输入的彩色图片转换成了灰度图</p>
<p><strong>代码实现如下</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 图片地址</span></span><br><span class="line">img_path=<span class="string">&#x27;id_card.png&#x27;</span></span><br><span class="line"><span class="comment"># 读取图片</span></span><br><span class="line">img=Image.<span class="built_in">open</span>(img_path)</span><br><span class="line"><span class="comment"># 显示图片</span></span><br><span class="line">plt.imshow(img)</span><br><span class="line"><span class="comment"># 数据转换成numpy格式</span></span><br><span class="line">img_data=np.asarray(img)</span><br><span class="line"><span class="comment"># 图片转换成灰度图</span></span><br><span class="line">gray_img=cv2.cvtColor(img_data,cv2.COLOR_RGB2GRAY)</span><br><span class="line"><span class="comment"># 显示灰度图</span></span><br><span class="line">plt.imshow(gray_img)</span><br><span class="line"><span class="comment"># 保存图片</span></span><br><span class="line">cv2.imwrite(<span class="string">&#x27;gray.png&#x27;</span>,gray_img)</span><br></pre></td></tr></table></figure>
</li>
<li><p>图像色彩处理</p>
<p>一般情况下，OCR输入的图像输入的是彩色图像，图像中包含着大量的色彩信息，为了提高OCR的识别效率，更快的提取图像中的文字信息，通常对输入的图像进行二值化处理，所谓二值化就是将图像进行处理，使其只包含黑白二色。</p>
<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/id_card_binary.png" class="" title="转化为黑白二值图">

<p><strong>代码实现如下</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 动态阈值进行图像二值化处理</span></span><br><span class="line">blur_img = cv2.adaptiveThreshold(</span><br><span class="line">            gray_img, <span class="number">255</span>, cv2.ADAPTIVE_THRESH_MEAN_C, cv2.THRESH_BINARY, <span class="number">25</span>, <span class="number">20</span>)</span><br><span class="line"><span class="comment"># 显示二值化图像</span></span><br><span class="line">plt.imshow(blur_img)</span><br><span class="line"><span class="comment"># 保存图片</span></span><br><span class="line">cv2.imwrite(<span class="string">&#x27;blur.png&#x27;</span>,blur_img)</span><br></pre></td></tr></table></figure>
</li>
<li><p>图片去噪</p>
<p>将图像转换成二值图之后，会发现图片中存在很多噪声，对于噪声的分类一般为椒盐噪声，高斯噪声。在图像处理中使用中值滤波或者均值滤波进行图片去噪处理</p>
<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/id_card_denoised.png" class="" title="图片去噪">

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对二值图片进行噪声去除</span></span><br><span class="line"><span class="comment"># fastNlMeansDenoising的参数为</span></span><br><span class="line"><span class="comment"># 待处理图片，滤波器强度，对彩色图片滤波摩人与滤波器强度相等，模板尺寸，搜索窗口尺寸</span></span><br><span class="line">img_denoised=cv2.fastNlMeansDenoising(blur_img,<span class="number">10</span>,<span class="number">10</span>,<span class="number">7</span>,<span class="number">21</span>)</span><br><span class="line"><span class="comment"># 显示图片</span></span><br><span class="line">plt.imshow(img_denoised)</span><br><span class="line"><span class="comment"># 保存图片</span></span><br><span class="line">cv2.imwrite(<span class="string">&#x27;denoised.png&#x27;</span>,img_denoised)</span><br></pre></td></tr></table></figure>
</li>
<li><p>图片倾斜矫正</p>
<p>如果输入的图片是手机拍摄，一般情况下照片会不可避免的存在倾斜，这时候就要对输入的图片进行倾斜矫正。倾斜矫正包括两种，一种是图片旋转，一种是图片的仿射变换。</p>
<p>对于图片旋转，首先考虑如何实现图片的旋转呢，实际上对图片进行旋转就是进行矩阵旋转，首先分析旋转在二维平面中围绕一个点进行旋转</p>
<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/rotate_2d.png" class="" title="旋转示意图">

<p>图中所示为点V绕远点旋转角度$\theta$，得到旋转后的点$\mathbf{v}^{\prime}$，假设$v$点原来的坐标为$(x,y)$，进行推导<br>$$<br>\begin{array}<br>{l}<br>{x&#x3D;r \cos \phi \<br>y&#x3D;r \sin \phi} \<br>{x^{\prime}&#x3D;r \cos (\theta+\phi)\<br>y^{\prime}&#x3D;r \sin (\theta+\phi)}<br>\end{array}<br>$$<br>使用三角函数进行展开<br>$$<br>\begin{aligned} x^{\prime} &amp;&#x3D;r \cos \theta \cos \phi-r \sin \theta \sin \phi \ y^{\prime} &amp;&#x3D;r \sin \theta \cos \phi+r \cos \theta \sin \phi \end{aligned}<br>$$<br>再将x，y带入到上面式子中可以得到表达式<br>$$<br>\begin{array}{l}{x^{\prime}&#x3D;x \cos \theta-y \sin \theta} \ {y^{\prime}&#x3D;x \sin \theta+y \cos \theta}\end{array}<br>$$<br>这是对单个点以原点为中心进行旋转，当扩展到一个图像中的时候，写成矩阵形式<br>$$<br>\left[ \begin{array}{l}{x^{\prime}} \ {y^{\prime}}\end{array}\right]&#x3D;\left[ \begin{array}{cc}{\cos \theta} &amp; {-\sin \theta} \ {\sin \theta} &amp; {\cos \theta}\end{array}\right] * \left[ \begin{array}{l}{x} \ {y}\end{array}\right]<br>$$<br>如果旋转中心点不是原点，而是任意一个点，那么这时候该怎么做呢？</p>
<p>在计算机图形学中，为了统一将图形平移、旋转、缩放等都用矩阵形式表示，需要引入<a href="https://zh.wikipedia.org/wiki/%E9%BD%90%E6%AC%A1%E5%9D%90%E6%A0%87">齐次坐标</a>。将上述问题进行拆分，首先将旋转点移动到原点处，之后按照原点进行旋转，最后将旋转点从原点移动到原来的位置。</p>
<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/move2d.jpeg" class="" title="二维平移">

<p>首先进行二维平移操作，如上图所示，一个点$P(x,y)$，移动到点$P^{\prime}(x^{\prime},y^{\prime})$，从图中可以很明显的看出在二维空间的坐标位置关系<br>$$<br>x^{\prime}&#x3D;x+t x \<br>y^{\prime}&#x3D;y+t y<br>$$<br>使用其次坐标进行表示二维平移<br>$$<br>\left[ \begin{array}{c}{x^{\prime}} \ {y^{\prime}} \ {1}\end{array}\right]&#x3D;\left[ \begin{array}{lll}{1} &amp; {0} &amp; {t x} \ {0} &amp; {1} &amp; {t y} \ {0} &amp; {0} &amp; {1}\end{array}\right] * \left[ \begin{array}{l}{x} \ {y} \ {1}\end{array}\right]<br>$$<br>同理，结合二维空间的旋转操作，在其次坐标下进行旋转操作，得到变换关系式为<br>$$<br>\left[ \begin{array}{c}{x^{\prime}} \ {y^{\prime}} \ {1}\end{array}\right]&#x3D;\left[ \begin{array}{ccc}{\cos \theta} &amp; {-\sin \theta} &amp; {0} \ {\sin \theta} &amp; {\cos \theta} &amp; {0} \ {0} &amp; {0} &amp; {1}\end{array}\right] * \left[ \begin{array}{l}{x} \ {y} \ {1}\end{array}\right]<br>$$<br>按照前面对绕任一点旋转的拆分，先进行平移，之后旋转，最后再反向平移</p>
<p>可以得到旋转矩阵为<br>$$<br>M<br>&#x3D;\left[ \begin{array}{ccc}{1} &amp; {0} &amp; {\operatorname{-tx}} \ {0} &amp; {1} &amp; {-t y} \ {0} &amp; {0} &amp; {1}\end{array}\right] * \left[ \begin{array}{ccc}{\cos \theta} &amp; {-\sin \theta} &amp; {0} \ {\sin \theta} &amp; {\cos \theta} &amp; {0} \ {0} &amp; {0} &amp; {1}\end{array}\right] * \left[ \begin{array}{ccc}{1} &amp; {0} &amp; {tx} \ {0} &amp; {1} &amp; {t y} \ {0} &amp; {0} &amp; {1}\end{array}\right]\<br>&#x3D;\left[ \begin{array}{ccc}{\cos \theta} &amp; {-\sin \theta} &amp; {(1-\cos \theta) t x-t y * \sin \theta} \ {\sin \theta} &amp; {\cos \theta} &amp; {(1-\cos \theta) t y+t x * \sin \theta} \ {0} &amp; {0} &amp; {1}\end{array}\right]<br>$$<br>如上便是在计算机图形学中对图像进行旋转的数学原理，在代码实现中一般使用opencv实现。</p>
<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/id_card_rotated.png" class="" title="旋转图片45度">

<p>实现代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">h,w=img_denoised.shape</span><br><span class="line"><span class="comment"># 计算图片中心点</span></span><br><span class="line">center=(w//<span class="number">2</span>,h//<span class="number">2</span>)</span><br><span class="line"><span class="comment"># 创建旋转矩阵，旋转角度为45度</span></span><br><span class="line">M = cv2.getRotationMatrix2D(center, <span class="number">45</span>, <span class="number">1.0</span>) </span><br><span class="line"><span class="comment"># 得到旋转之后的图像</span></span><br><span class="line">img_rotated = cv2.warpAffine(img_denoised, M, (w, h))</span><br><span class="line"><span class="comment"># 显示图片</span></span><br><span class="line">plt.imshow(img_rotated)</span><br><span class="line"><span class="comment"># 保存图片</span></span><br><span class="line">cv2.imwrite(<span class="string">&#x27;rotated.png&#x27;</span>, img_rotated)</span><br></pre></td></tr></table></figure>

<p>上述是进行图像旋转的代码实现。可以打印矩阵M查看和使用公式计算的结果是一致的。</p>
<p>可以看到，旋转前后的图像的尺寸保持一致，这就会造成旋转之后的图片会丢失部分图片信息，实际上可以对上面的代码进行修正</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 计算图片的几何尺寸</span></span><br><span class="line">h,w=img_denoised.shape</span><br><span class="line"><span class="comment"># 计算图片中心点</span></span><br><span class="line">center=(w//<span class="number">2</span>,h//<span class="number">2</span>)</span><br><span class="line"><span class="comment"># 创建旋转矩阵，旋转角度为45度</span></span><br><span class="line">M = cv2.getRotationMatrix2D(center, <span class="number">45</span>, <span class="number">1.0</span>)</span><br><span class="line"><span class="comment"># 计算旋转角度的正余弦值</span></span><br><span class="line">cos = np.<span class="built_in">abs</span>(M[<span class="number">0</span>, <span class="number">0</span>])</span><br><span class="line">sin = np.<span class="built_in">abs</span>(M[<span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line"><span class="comment"># 计算旋转之后的图片的宽度和高度</span></span><br><span class="line">nW = <span class="built_in">int</span>((h * sin) + (w * cos))</span><br><span class="line">nH = <span class="built_in">int</span>((h * cos) + (w * sin))</span><br><span class="line"><span class="comment"># 在旋转矩阵的基础上加入角度旋转造成的图片尺寸的影响</span></span><br><span class="line">M[<span class="number">0</span>, <span class="number">2</span>] += (nW / <span class="number">2</span>) - center[<span class="number">0</span>]</span><br><span class="line">M[<span class="number">1</span>, <span class="number">2</span>] += (nH / <span class="number">2</span>) - center[<span class="number">1</span>]</span><br><span class="line"><span class="comment"># 旋转图像</span></span><br><span class="line">rotated2=cv2.warpAffine(img_denoised, M, (nW, nH))</span><br><span class="line"><span class="comment"># 显示图像</span></span><br><span class="line">plt.imshow(rotated2)</span><br></pre></td></tr></table></figure>

<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/id_card_rotated2.png" class="" title="修正旋转矩阵">

<p>对图片进行修正之后，可以看到旋转之后的图片保留了原图片的全部信息，</p>
</li>
<li><p>版面分析</p>
<p>将输入的文档图片按照段落或行为单位进行版面分析，在实际操作中，由于文档是丰富多样的，因此目前没有固定的版面分析算法，要根据实际应用场景进行设计，这也是目前OCR识别任务重比较重要的一部，会在之后部分详细说明。</p>
</li>
<li><p>字符识别</p>
<p>在OCR识别任务中，存在多种字符识别的方法，早期使用的是模板匹配的方法，后期有特征提取的方法，直至目前的深度学习的方法，该步骤对OCR识别准确率至关重要，同样会在之后的部分进行详细说明。</p>
</li>
<li><p>版面还原</p>
<p>对于OCR任务中，我们希望识别后的文字仍然按照输入文档图片那样排列，保持段落不变，文字位置不变，顺序不变的输出，该步骤就是版面还原的过程。在该步骤中，版面还原的信息依赖于前期的版面分析的到的版面信息。</p>
</li>
<li><p>输出校对</p>
<p>最后是对输出的识别结果使用自然语言的方法进行识别结果的校正。</p>
</li>
</ul>
<p>上述过程就是OCR识别的一般过程，简单来讲就是，先对图像进行预处理，将输入的图像变成统一的格式，之后进行版面分析和文字识别，最终进行版面还原输出。在整个过程中，图像预处理一般使用的是通用的技术解决方案，就如上文所说，进行图像转成灰度图，二值化处理，提高对比度亮度，旋转仿射变换等常规处理手段，经过如上的图像预处理，输入的图像变成相对统一的图像数据。之后便要对输入的图像进行版面分析，主要是找到图像中的待识别文字的位置区域，这里的文字区域可以是中文中的单个文字，可以使英文中的单个单词，也可以是一行文字；当找到待识别文字的位置区域之后，就下来就是对区域内图像文字进行识别。接下来便对版面分析和文字识别进行着重说明。</p>
</li>
</ul>
<h3 id="版面分析"><a href="#版面分析" class="headerlink" title="版面分析"></a>版面分析</h3><p>正如上文所述，版面分析就是要找到待识别文字的位置区域，所谓文字区域，一般是指单个文字或者一整行的文字</p>
<h4 id="传统手工特征方法"><a href="#传统手工特征方法" class="headerlink" title="传统手工特征方法"></a>传统手工特征方法</h4><p>如果要提取单文字的位置区域，存在多种技术实现方法，下面进行简略说明。</p>
<ul>
<li>图像投影方法</li>
</ul>
<p>对预处理之后的图像，将图像对垂直方向的坐标轴进行投影，图像中不同行的文字经过投影会被间隔开，如此就可以提取到不同的文本行，如下所示为对进行噪声去噪之后的二值图进行水平方向的投影。</p>
<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/id_card_horizonal.png" class="" title="图像进行水平方向投影">

<p>代码实现</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 图片预处理</span></span><br><span class="line">img_path=<span class="string">&#x27;id_card.png&#x27;</span></span><br><span class="line">img_color=cv2.imread(img_path)</span><br><span class="line">img_gray=cv2.cvtColor(image_color, cv2.COLOR_BGR2GRAY)</span><br><span class="line">blur_img = cv2.adaptiveThreshold(</span><br><span class="line">            img_gray, <span class="number">255</span>, cv2.ADAPTIVE_THRESH_MEAN_C, cv2.THRESH_BINARY_INV, <span class="number">25</span>, <span class="number">20</span>)</span><br><span class="line"><span class="comment"># 对图像中每一行进行求和</span></span><br><span class="line">horizontal_sum=np.<span class="built_in">sum</span>(blur_img,axis=<span class="number">1</span>)</span><br><span class="line"><span class="comment"># 绘制图形</span></span><br><span class="line">plt.figure(<span class="string">&#x27;horizonal&#x27;</span>,dpi=<span class="number">100</span>)</span><br><span class="line">grid = plt.GridSpec(<span class="number">4</span>, <span class="number">4</span>, wspace=<span class="number">0.5</span>, hspace=<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(grid[<span class="number">0</span>:<span class="number">3</span>,<span class="number">1</span>:<span class="number">4</span>])</span><br><span class="line"><span class="comment"># 显示灰度图</span></span><br><span class="line">plt.imshow(blur_img,<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line"><span class="comment"># 显示垂直方向投影图</span></span><br><span class="line">plt.subplot(grid[<span class="number">0</span>:<span class="number">3</span>,<span class="number">0</span>])</span><br><span class="line">plt.plot(horizontal_sum,<span class="built_in">range</span>(horizontal_sum.shape[<span class="number">0</span>]))</span><br><span class="line">plt.xlabel(<span class="string">&#x27;datasam&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;ImageHeight&#x27;</span>)</span><br><span class="line">plt.gca().invert_yaxis()</span><br><span class="line">plt.savefig(<span class="string">&#x27;horizonal.png&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>从图中可以看出，对输入图像进行处理之后，图像的背景色为黑色，文字部分为白色，在图像数据中黑色对应的值为$0$，白色对应的值为$255$。对图像进行垂直方向投影，输入图像中的文字区域部分垂直投影之后得到的值较大，背景区域投影之后得到的值较小，通过对垂直投影之后的数据进行提取，就可以确定图像中存在多少行和每行在图片高度方向上的位置。</p>
<p>确定输入图像中的每行文字区域之后，接下来对每行的图像进行水平方向的投影，由此确定当前行中的每个文字所在的位置，处理方法是和竖直方向投影方法相同。</p>
<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/text_split.png" class="" title="对每个字符进行提取">

<p>使用如上方法可以实现对输入图像中每个字符进行提取，也就是找到每个文字在输入图像中的位置，提取到单字符之后便可以对每个文字进行识别。</p>
<p>由于对文字的提取基于竖直方向投影和水平方向投影得到，因此提取到的字符依赖于算法中设定的阈值，该阈值用于区分每一行文字或每行中的每个文字。从图中可以看到，提取到的单字文字存在一定错误，这正是由于算法中设定的阈值造成的，这也是该方法的局限性，尤其是对于中文字体结构，在中文中存在很多左右结构的文字，比如“小”，“林”，“从”等文字，如果算法中设定的阈值不合适，那很有可能将左右结构的一个字提取城两个字。</p>
<p>除了上述的方法之外，还有基于连通区域的方法，其假设字符本身是具有连通性的，之后通过连通区域的检测方法好到文字的候选区域，感兴趣的读者可以参考论文<a href="http://pages.ucsd.edu/~ztu/publication/cvpr12_textdetection.pdf">Detecting Texts of Arbitrary Orientations in Natural Images</a>；或者使用最大稳定极值区域的方法，使用该方法得到候选字符区域，并将这些区域看做是连通图的顶点，因为，同一行的文本通常具有相同的文字方向，颜色，字体等，所以可以将文本行的确定转化为连通图聚类的过程，通过该方法确定文本行，感兴趣的读者可以参考文献<a href="https://pdfs.semanticscholar.org/ba05/72bb8d90fef080dc5790545383507c0722ea.pdf">Text Detection for Multi-Orientation Scene Images using Adaptive Clustering</a>。</p>
<p>对于上述的基于人工特征方法的OCR技术实现方案，都伴随着复杂的特征工程，不论是从文本图形的文字的连通性考虑或者从文字的字体等信息考虑，这些方法的适用性都相对狭小，只能处理相对单一类别的文本图像，此外提取的效果也不够鲁棒，容易受到输入图像中的背景信息影响，并且提取结果很容易受到人为设置的一些参数的影响。随着计算机硬件计算能力的大幅度提升，在2014年左右，出现了深度学习方法的OCR技术方案，OCR技术不论是从识别效果还是从OCR识别场景适用性都取得了巨大进步。</p>
<h4 id="深度学习OCR技术"><a href="#深度学习OCR技术" class="headerlink" title="深度学习OCR技术"></a>深度学习OCR技术</h4><p>正如上文所述的使用人工特征的方法在OCR识别过程中存在诸多问题，深度学习OCR技术以其适用性更广，人工特征更少，识别准确率更高的优点，目前已经成为OCR识别的主流应用技术。对于OCR识别过程，上文已经有所描述，过程中的难点，一个是版面分析，也就是找到输入图像的文本区域所在的位置，另一个是文本识别，也就是对找到的文本图像进行识别。这里所说的深度学习OCR技术，也是着重解决这两个问题。目前存在的深度学习OCR方案主要是分两种，一种是端到端实现OCR识别，也就是设计一个网络模型，实现文字区域检测和文本识别，另一种是进行对文本检测和文本识别都设计开发单独的网络模型以实现任务目标，下面进行分别说明。</p>
<h5 id="文本检测"><a href="#文本检测" class="headerlink" title="文本检测"></a>文本检测</h5><p>说到文本检测，也就是检测到输入图像的文本区域，得到文字区域的位置信息。目前主要有两种深度学习实现思路，一种是基于目标检测方法，一种是基于图像分割的方法，其中基于目标检测的方法是目前应用最广泛的方法。</p>
<p>目前来说，在文本检测中，以目标检测为baseline仍然是占据主流，因为这两个任务具有天然的相关性，文本检测可以看做是目标检测中的一个分支，因此通用的目标检测技术经过一定定制优化是可以直接移植到文本检测上的，本人不太推荐基于分割的技术方法，首先在数据标注上，分割显然比检测的标注难度提升好几个等级，再者就是分割算法相比于检测算法需要更多的参数量，需要更多的计算资源和更久的运算时间，在工业界不太推荐。</p>
<ul>
<li><p>基于目标检测的方法</p>
<ol>
<li><p>早期比较有代表性的深度学习OCR识别算法是由大名鼎鼎的VGG实验室开发的<a href="https://arxiv.org/abs/1412.1842">Reading Text in the Wild with Convolutional Neural Networks</a>，该模型可以实现文本检测和文字识别的端到端OCR识别过程，模型中最具代表性的是文本检测的实现方法。</p>
<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/ReadingText.png" class="" title="检测方案">

<ul>
<li>使用<a href="https://web.bii.a-star.edu.sg/~zhangxw/files/EdgeBoxes_ECCV2014.pdf">EdgeBoxes:边缘框算法</a>生成大量的文本提议区域，该步骤要尽可能生成足够多的候选文本区域，要尽量能够更好的覆盖真实文本区域；</li>
<li>使用随机森林分类器对提议文本区域进行分类，过滤第一步生成的非文本提议区域；</li>
<li>使用目标检测模型<a href="https://arxiv.org/abs/1311.2524">RCNN</a>中对文本提议框回归的计算方法，对过滤之后的文本提议框进行修正以接近真实文本区域范围；</li>
<li>最后使用一个文字识别算法进一步过滤非文本提议区域。</li>
</ul>
<p>该方法可以看做是在RCNN基础上的应用，在RCNN中使用随机搜索的方法生成了候选文本提议，在该算法中使用的则是边缘框算法来实现，该算法是早期比较有代表性的深度学习在OCR识别任务中的应用，在2014-2015年一直保持领先地位。</p>
</li>
<li><p>2016年中科院深圳先进技术研究院乔宇老师研究组，基于目标检测模型<a href="https://arxiv.org/abs/1506.01497">FasterRcnn</a>开发了适用于文本行检测的深度学习模型<a href="https://arxiv.org/abs/1609.03605">CTPN</a>。</p>
<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/CTPN.png" class="" title="CTPN">

<ul>
<li><p>根据文本检测任务中文本区域的特点，设计了区别于常规目标检测任务的文本区域划分方案；</p>
</li>
<li><p>在VGG模型最后一层的特征图上进行AnchorBox计算，计算方法与FasterRcnn相同；</p>
</li>
<li><p>在计算过程中考虑上下信息，将每行的文本特征输入到双向LSTM中以便更好的判断文字区域的概率</p>
</li>
<li><p>判断文字的高度，起始位置和终止位置</p>
</li>
</ul>
<p>CTPN首次在场景文字检测中使用RNN方法，但是受限于CTPN的文本区域划分方案，该算法模型默认只能用于输入图像的水平文本检测。</p>
</li>
<li><p>同样是在FasterRcnn的基础上改进而来，<a href="https://arxiv.org/abs/1703.01086">RRPN</a>对AnhocrBox进行了设计，在原FaterRcnn中RPN网络的AnhorBox的基础上加入了角度旋转信息，设计了RRPN网络用以生成带角度信息的文本区域提议，此外，为了适应RRPN，将原FasterRcnn中ROI进行改进设计了RROI，以实现可以计算处理任意方向的文本提议区域。</p>
<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/RRPN.png" class="" title="RRPN">
</li>
<li><p>基于文本在图像中是具有不规则多边形的轮廓的角度思考，<a href="https://arxiv.org/abs/1703.01425">DMPNet</a>将目标检测任务中目标区域为矩形框修改为多边形目标区域，在目标检测模型<a href="https://arxiv.org/abs/1512.02325">SSD</a>的基础上进行整个模型的设计。</p>
<img src="/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/DMPNet.png" class="" title="DMPNet中Anchor生成">

<p>如图是<code>DMPNet</code>中关于<code>Anchor</code>的的设计方案，在图$a$中，如果使用用于的目标检测的<code>Anchor</code>生成方法，得到的检测区域是蓝色虚线部分，因为在传统的<code>Anchor</code>生成过程中，先验的<code>Anchor</code>都是矩形形状，因此得到的检测框肯定也是矩形的，但是在街景<code>OCR</code>中，使用矩形的区域进行文本区域检测显然会引入更多的背景信息，对后续的文本识别带来干扰。在<code>DMPNet</code>中的<code>Anchor</code>设计使用的是图<code>C</code>这种方式，加入了旋转角度，这样的<code>Anchor</code>设计会检测到图$a$中红色虚线的区域，显然相比于传统目标检测得到的结果更优。</p>
</li>
</ol>
</li>
</ul>
<h5 id="文本识别"><a href="#文本识别" class="headerlink" title="文本识别"></a>文本识别</h5><p>检测之后肯定就是识别了，由于2019年中旬之后更换工作，没有太多关注OCR相关方面的发展，根据我曾经的浅薄的经验，使用何种文本识别技术基于我们使用了何种文本检测技术，尤其在工业界，我们的目的是输出图片中的信息，而不是检测的检测到文本区域。</p>
<p>前面已经说过了，目前的主流做法是基于目标检测的文本检测实现方案，检测到的一般情况是文本区域而不是单个的字，这个时候我们在进行文本识别的时候显然也要对文本区域进行识别，现在的<code>CNN</code>技术发展迅速，几乎都快到瓶颈了，这些我们先不管，我们只需要知道对于文本识别目前来讲基于<code>CNN</code>是一种非常可行的方案，不管是<code>CRNN</code>(将<code>CNN,RNN</code>联系起，模拟语音识别的方法建立前后文联系)，还是<code>CNN+CTC</code>的方案，都是将文本区域使用<code>CNN</code>进行特征提取，然后使用<code>NLP</code>中解决方案。</p>
<p>至于更传统的单字符识别目前应该没有人使用了，这里也就不过多介绍了。关于该部分的内容，如果想了解更多，我也写过针对<code>OCR</code>的一篇博客<a href="%5Bhttp://xiaofengshi.com/2019/01/05/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR_Overview/%5D(http://xiaofengshi.com/2019/01/05/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR_Overview/)">文章: 深度学习-OCR_Overview</a></p>
<h2 id="深度学习技术实现方案综述"><a href="#深度学习技术实现方案综述" class="headerlink" title="深度学习技术实现方案综述"></a>深度学习技术实现方案综述</h2><p>前文已经对深度学习在<code>OCR</code>上的应用有所涉及，目前的不论学术界还是工业界应该都已经抛弃了传统的直方图或单字符识别的研究和投入，但是，还是那句话，最后的算法是在满足需求的条件下尽可能节省算力，如果我们的场景是具有规定排版样式的场景，比如扫描合同，身份证，银行卡，发票单据等，这些使用传统方法实际上完全可以<code>cover</code>住，没有<code>low</code>的算法，只有<code>low</code>的开发者，这是近一年来在字节我最大的收获。</p>
<p>接下来说一下目前的主流解决方案，<code>OCR</code>目前来讲分为两个过程文本区域检测和文本识别，目前应该还没有<code>End2End</code>的解决方案。这两个过程主要就是上面所说的那样，文本检测一般是基于目标检测来实现，文本识别一般是不定长文本识别，因此更多的采用的是<code>NLP</code>中关于语音识别的相关方法。</p>
<h2 id="连续文本提议网络-CTPN-模型原理"><a href="#连续文本提议网络-CTPN-模型原理" class="headerlink" title="连续文本提议网络(CTPN)模型原理"></a>连续文本提议网络(CTPN)模型原理</h2><p>这一部分，我已经写作一篇博客了，可以看一下这里<a href="%5Bhttp://xiaofengshi.com/2019/01/23/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-TextDetection/%5D(http://xiaofengshi.com/2019/01/23/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-TextDetection/)">深度学习-TextDetection</a></p>
<h2 id="卷积循环神经网络-CRNN-模型原理"><a href="#卷积循环神经网络-CRNN-模型原理" class="headerlink" title="卷积循环神经网络(CRNN)模型原理"></a>卷积循环神经网络(CRNN)模型原理</h2><h2 id="常用卷积网络模型结构"><a href="#常用卷积网络模型结构" class="headerlink" title="常用卷积网络模型结构"></a>常用卷积网络模型结构</h2><h2 id="DenseNet和CTC解码原理及代码实现"><a href="#DenseNet和CTC解码原理及代码实现" class="headerlink" title="DenseNet和CTC解码原理及代码实现"></a>DenseNet和CTC解码原理及代码实现</h2><h2 id="深度学习的数据标准化原理及选择"><a href="#深度学习的数据标准化原理及选择" class="headerlink" title="深度学习的数据标准化原理及选择"></a>深度学习的数据标准化原理及选择</h2><h2 id="序列到序列算法模型原理"><a href="#序列到序列算法模型原理" class="headerlink" title="序列到序列算法模型原理"></a>序列到序列算法模型原理</h2><h2 id="不定长文字识别的编码器设计及代码实现"><a href="#不定长文字识别的编码器设计及代码实现" class="headerlink" title="不定长文字识别的编码器设计及代码实现"></a>不定长文字识别的编码器设计及代码实现</h2><h2 id="注意力机制原理详解"><a href="#注意力机制原理详解" class="headerlink" title="注意力机制原理详解"></a>注意力机制原理详解</h2><h2 id="解码器的贪婪搜索和集束搜索选择和实现"><a href="#解码器的贪婪搜索和集束搜索选择和实现" class="headerlink" title="解码器的贪婪搜索和集束搜索选择和实现"></a>解码器的贪婪搜索和集束搜索选择和实现</h2><h2 id="循环神经网的模型设计策略及代码实现"><a href="#循环神经网的模型设计策略及代码实现" class="headerlink" title="循环神经网的模型设计策略及代码实现"></a>循环神经网的模型设计策略及代码实现</h2><h2 id="搭建中文OCR任务pipeline"><a href="#搭建中文OCR任务pipeline" class="headerlink" title="搭建中文OCR任务pipeline"></a>搭建中文OCR任务pipeline</h2><h2 id="技术总结及触类旁通"><a href="#技术总结及触类旁通" class="headerlink" title="技术总结及触类旁通"></a>技术总结及触类旁通</h2>
    </div>

    
    
    
        <div class="reward-container">
  <div>赏杯咖啡！</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechat.jpeg" alt="ShiXiaofeng 微信支付">
        <p>微信支付</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.jpeg" alt="ShiXiaofeng 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>ShiXiaofeng
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://xiaofengshi.com/2019/03/13/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-OCR-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/" title="深度学习-OCR-从零开始">http://xiaofengshi.com/2019/03/13/深度学习-OCR-从零开始/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/OCR/" rel="tag"># OCR</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/03/19/DeepLearning_Tensorflow/" rel="prev" title="DeepLearning_Tensorflow">
      <i class="fa fa-chevron-left"></i> DeepLearning_Tensorflow
    </a></div>
      <div class="post-nav-item">
    <a href="/2019/03/06/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-Normalization/" rel="next" title="深度学习-Normalization">
      深度学习-Normalization <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#OCR%E4%BB%BB%E5%8A%A1%E8%AF%A6%E8%A7%A3%E5%8F%8A%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">1.</span> <span class="nav-text">OCR任务详解及应用场景</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E5%8F%ABOCR"><span class="nav-number">1.1.</span> <span class="nav-text">什么叫OCR</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OCR%E7%94%A8%E4%BA%8E%E4%BD%95%E5%A4%84"><span class="nav-number">1.2.</span> <span class="nav-text">OCR用于何处</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">1.3.</span> <span class="nav-text">总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%9D%E8%80%83"><span class="nav-number">1.4.</span> <span class="nav-text">思考</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%AD%E6%96%87OCR%E4%BB%BB%E5%8A%A1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="nav-number">2.</span> <span class="nav-text">中文OCR任务解决方案</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#OCR%E8%AF%86%E5%88%AB%E8%BF%87%E7%A8%8B"><span class="nav-number">2.1.</span> <span class="nav-text">OCR识别过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%88%E9%9D%A2%E5%88%86%E6%9E%90"><span class="nav-number">2.2.</span> <span class="nav-text">版面分析</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BC%A0%E7%BB%9F%E6%89%8B%E5%B7%A5%E7%89%B9%E5%BE%81%E6%96%B9%E6%B3%95"><span class="nav-number">2.2.1.</span> <span class="nav-text">传统手工特征方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0OCR%E6%8A%80%E6%9C%AF"><span class="nav-number">2.2.2.</span> <span class="nav-text">深度学习OCR技术</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%96%87%E6%9C%AC%E6%A3%80%E6%B5%8B"><span class="nav-number">2.2.2.1.</span> <span class="nav-text">文本检测</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%96%87%E6%9C%AC%E8%AF%86%E5%88%AB"><span class="nav-number">2.2.2.2.</span> <span class="nav-text">文本识别</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88%E7%BB%BC%E8%BF%B0"><span class="nav-number">3.</span> <span class="nav-text">深度学习技术实现方案综述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9E%E7%BB%AD%E6%96%87%E6%9C%AC%E6%8F%90%E8%AE%AE%E7%BD%91%E7%BB%9C-CTPN-%E6%A8%A1%E5%9E%8B%E5%8E%9F%E7%90%86"><span class="nav-number">4.</span> <span class="nav-text">连续文本提议网络(CTPN)模型原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%B7%E7%A7%AF%E5%BE%AA%E7%8E%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C-CRNN-%E6%A8%A1%E5%9E%8B%E5%8E%9F%E7%90%86"><span class="nav-number">5.</span> <span class="nav-text">卷积循环神经网络(CRNN)模型原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E5%8D%B7%E7%A7%AF%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B%E7%BB%93%E6%9E%84"><span class="nav-number">6.</span> <span class="nav-text">常用卷积网络模型结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DenseNet%E5%92%8CCTC%E8%A7%A3%E7%A0%81%E5%8E%9F%E7%90%86%E5%8F%8A%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="nav-number">7.</span> <span class="nav-text">DenseNet和CTC解码原理及代码实现</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E6%95%B0%E6%8D%AE%E6%A0%87%E5%87%86%E5%8C%96%E5%8E%9F%E7%90%86%E5%8F%8A%E9%80%89%E6%8B%A9"><span class="nav-number">8.</span> <span class="nav-text">深度学习的数据标准化原理及选择</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BA%8F%E5%88%97%E5%88%B0%E5%BA%8F%E5%88%97%E7%AE%97%E6%B3%95%E6%A8%A1%E5%9E%8B%E5%8E%9F%E7%90%86"><span class="nav-number">9.</span> <span class="nav-text">序列到序列算法模型原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8D%E5%AE%9A%E9%95%BF%E6%96%87%E5%AD%97%E8%AF%86%E5%88%AB%E7%9A%84%E7%BC%96%E7%A0%81%E5%99%A8%E8%AE%BE%E8%AE%A1%E5%8F%8A%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="nav-number">10.</span> <span class="nav-text">不定长文字识别的编码器设计及代码实现</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E5%8A%9B%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3"><span class="nav-number">11.</span> <span class="nav-text">注意力机制原理详解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E7%A0%81%E5%99%A8%E7%9A%84%E8%B4%AA%E5%A9%AA%E6%90%9C%E7%B4%A2%E5%92%8C%E9%9B%86%E6%9D%9F%E6%90%9C%E7%B4%A2%E9%80%89%E6%8B%A9%E5%92%8C%E5%AE%9E%E7%8E%B0"><span class="nav-number">12.</span> <span class="nav-text">解码器的贪婪搜索和集束搜索选择和实现</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%9A%84%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1%E7%AD%96%E7%95%A5%E5%8F%8A%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="nav-number">13.</span> <span class="nav-text">循环神经网的模型设计策略及代码实现</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%90%AD%E5%BB%BA%E4%B8%AD%E6%96%87OCR%E4%BB%BB%E5%8A%A1pipeline"><span class="nav-number">14.</span> <span class="nav-text">搭建中文OCR任务pipeline</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93%E5%8F%8A%E8%A7%A6%E7%B1%BB%E6%97%81%E9%80%9A"><span class="nav-number">15.</span> <span class="nav-text">技术总结及触类旁通</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="ShiXiaofeng"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">ShiXiaofeng</p>
  <div class="site-description" itemprop="description">LLM,搜索,数据挖掘,深度学习相关技术记录分享</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">49</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">26</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">54</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/xiaofengShi" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;xiaofengShi" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:sxf1052566766@163.com" title="E-Mail → mailto:sxf1052566766@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2018 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ShiXiaofeng</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v7.1.1
  </div>

        








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  
<script src="/js/local-search.js"></script>









<script>
if (document.querySelectorAll('div.pdf').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/pdfobject@2/pdfobject.min.js', () => {
    document.querySelectorAll('div.pdf').forEach(element => {
      PDFObject.embed(element.getAttribute('target'), element, {
        pdfOpenParams: {
          navpanes: 0,
          toolbar: 0,
          statusbar: 0,
          pagemode: 'thumbs',
          view: 'FitH'
        },
        PDFJS_URL: '/lib/pdf/web/viewer.html',
        height: element.getAttribute('height') || '500px'
      });
    });
  }, window.PDFObject);
}
</script>


<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme: 'forest',
      logLevel: 3,
      flowchart: { curve: 'linear' },
      gantt: { axisFormat: '%m/%d/%Y' },
      sequence: { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el: '#valine-comments',
      verify: false,
      notify: false,
      appId: 'rBlWbsM2JDda6CTwJlGaUFpI-gzGzoHsz',
      appKey: 'zJasiQnAqgUwf4kiHhHyXwOP',
      placeholder: "Leave Your Message and Contact Details",
      avatar: 'mm',
      meta: guest,
      pageSize: '10' || 10,
      visitor: true,
      lang: '' || 'zh-cn',
      path: location.pathname,
      recordIP: false,
      serverURLs: ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
